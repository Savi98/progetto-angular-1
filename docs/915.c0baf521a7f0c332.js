"use strict";(self.webpackChunkprogetto_angular_1=self.webpackChunkprogetto_angular_1||[]).push([[915],{7915:(Gt,C,r)=>{r.r(C),r.d(C,{ProfileUserModule:()=>Yt});var p=r(6895),u=r(9299),Z=r(3900),x=r(5412),h=r(4006),i=r(4650),I=r(1511),f=r(4859),k=r(9549),o=r(3546),D=r(4144);function j(e,a){if(1&e&&(i.TgZ(0,"mat-card-header")(1,"mat-card-title"),i._uU(2),i.qZA(),i.TgZ(3,"mat-card-subtitle"),i._uU(4),i.qZA()()),2&e){const t=a.index,n=i.oxw(2);i.xp6(2),i.Oqu(n.comments[t].name),i.xp6(2),i.Oqu(n.comments[t].body)}}function U(e,a){if(1&e){const t=i.EpF();i.TgZ(0,"mat-card",2)(1,"h1"),i._uU(2,"Comments"),i.qZA(),i.YNc(3,j,5,2,"mat-card-header",3),i._UZ(4,"br"),i.TgZ(5,"div",4)(6,"form",5),i.NdJ("ngSubmit",function(){i.CHM(t);const d=i.oxw();return i.KtG(d.addComment(d.data))}),i.TgZ(7,"mat-form-field")(8,"mat-label"),i._uU(9,"Comment"),i.qZA(),i._UZ(10,"input",6),i.qZA(),i._UZ(11,"br"),i.TgZ(12,"button",7),i._uU(13,"Add Comment"),i.qZA()()()()}if(2&e){const t=i.oxw();i.xp6(3),i.Q6J("ngForOf",t.comments),i.xp6(3),i.Q6J("formGroup",t.newCommentForm)}}function Q(e,a){1&e&&(i.TgZ(0,"h1"),i._uU(1,"No comments"),i.qZA())}let Y=(()=>{class e{constructor(t,n,d){this.dialogRef=t,this.data=n,this.commentService=d}ngOnInit(){this.loadComments(this.data),this.newCommentForm=new h.cw({body:new h.NI})}loadComments(t){this.commentService.getCommentUser(t).subscribe(n=>{this.comments=n.body})}addComment(t){let n=JSON.parse(localStorage.getItem("user"));this.commentService.newComment({name:n.user.name,email:n.user.email,body:this.newCommentForm.value.body},t).subscribe({next:m=>{window.alert("Comment added!"),this.loadComments(this.data),this.dialogRef.close([])},error:m=>{console.log(m)}})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(x.so),i.Y36(x.WI),i.Y36(I.O))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-comment"]],decls:3,vars:2,consts:[["class","mat-card",4,"ngIf","ngIfElse"],["noComments",""],[1,"mat-card"],[4,"ngFor","ngForOf"],[1,"form"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Leave a Comment","formControlName","body"],["mat-raised-button","","color","primary"]],template:function(t,n){if(1&t&&(i.YNc(0,U,14,2,"mat-card",0),i.YNc(1,Q,2,0,"ng-template",null,1,i.W1O)),2&t){const d=i.MAs(2);i.Q6J("ngIf",(null==n.comments?null:n.comments.length)>0)("ngIfElse",d)}},dependencies:[p.sg,p.O5,f.lW,k.KE,k.hX,o.a8,o.dk,o.$j,o.n5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,D.Nt],styles:[".mat-card[_ngcontent-%COMP%]{height:100%}.form[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{text-align:center}hr[_ngcontent-%COMP%]{width:90%}"]}),e})();var V=r(4733),L=r(1228),H=r(9106),S=r(3683),A=r(7392);let G=(()=>{class e{constructor(t,n){this.router=t,this.authService=n}backHome(){this.router.navigate(["/home"])}posts(){this.router.navigate(["/posts"])}onLogout(){this.authService.logout(),this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.F0),i.Y36(L.e))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-toolbar"]],decls:10,vars:0,consts:[["mat-icon-button","",3,"click"]],template:function(t,n){1&t&&(i.TgZ(0,"mat-toolbar")(1,"button",0),i.NdJ("click",function(){return n.backHome()}),i.TgZ(2,"mat-icon"),i._uU(3,"home"),i.qZA()(),i.TgZ(4,"button",0),i.NdJ("click",function(){return n.posts()}),i.TgZ(5,"mat-icon"),i._uU(6,"forum"),i.qZA()(),i.TgZ(7,"button",0),i.NdJ("click",function(){return n.onLogout()}),i.TgZ(8,"mat-icon"),i._uU(9,"exit_to_app"),i.qZA()()())},dependencies:[S.Ye,A.Hw,f.RK],styles:[".mat-toolbar-single-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;height:10%;place-items:center}"]}),e})();function J(e,a){1&e&&i._UZ(0,"img",9)}function W(e,a){1&e&&i._UZ(0,"img",10)}function q(e,a){1&e&&i._UZ(0,"div",11)}function $(e,a){1&e&&i._UZ(0,"div",12)}function X(e,a){if(1&e&&(i.TgZ(0,"div",3),i.YNc(1,J,1,0,"img",4),i.YNc(2,W,1,0,"img",5),i.TgZ(3,"div",6)(4,"h1"),i._uU(5),i.qZA(),i.YNc(6,q,1,0,"div",7),i.YNc(7,$,1,0,"div",8),i.qZA(),i.TgZ(8,"h2"),i._uU(9),i.qZA()()),2&e){const t=a.ngIf;i.xp6(1),i.Q6J("ngIf","male"==t.gender),i.xp6(1),i.Q6J("ngIf","female"==t.gender),i.xp6(3),i.Oqu(t.name),i.xp6(1),i.Q6J("ngIf","active"==t.status),i.xp6(1),i.Q6J("ngIf","inactive"==t.status),i.xp6(2),i.Oqu(t.email)}}function K(e,a){1&e&&i._UZ(0,"img",21)}function tt(e,a){1&e&&i._UZ(0,"img",22)}function it(e,a){if(1&e&&(i.TgZ(0,"mat-card-header")(1,"div",18),i.YNc(2,K,1,0,"img",19),i.YNc(3,tt,1,0,"img",20),i.qZA(),i.TgZ(4,"mat-card-title"),i._uU(5),i.qZA(),i.TgZ(6,"mat-card-subtitle"),i._uU(7),i.qZA()()),2&e){const t=a.ngIf,n=i.oxw().index,d=i.oxw();i.xp6(2),i.Q6J("ngIf","male"==t.gender),i.xp6(1),i.Q6J("ngIf","female"==t.gender),i.xp6(2),i.Oqu(t.name),i.xp6(2),i.Oqu(d.posts[n].title)}}function et(e,a){if(1&e){const t=i.EpF();i.TgZ(0,"mat-card",13),i.YNc(1,it,8,4,"mat-card-header",14),i.ALo(2,"async"),i.TgZ(3,"mat-card-content")(4,"p"),i._uU(5),i.qZA()(),i.TgZ(6,"mat-card-actions",15)(7,"div",16)(8,"button",17),i.NdJ("click",function(){const l=i.CHM(t).index,s=i.oxw();return i.KtG(s.openDialog(s.posts[l].id))}),i._uU(9," Comments "),i.qZA()()()()}if(2&e){const t=a.index,n=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,n.users)),i.xp6(4),i.Oqu(n.posts[t].body)}}const nt=[{path:"",component:(()=>{class e{constructor(t,n,d,l,s,m,b){this.route=t,this.userService=n,this.router=d,this.authService=l,this.postService=s,this.dialog=m,this.commentService=b,this.displayedColumns=["title"],this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"];const g=this.router.getCurrentNavigation().extras.state;this.pageIndex=g.pageIndex,this.pageSize=g.pageSize}ngOnInit(){this.getUser(),this.route.params.subscribe(t=>{this.loadPosts(t.id)})}getUser(){this.users=this.route.paramMap.pipe((0,Z.w)(t=>this.userService.getProfileUser(t.get("id"),this.pageIndex,this.pageSize)))}loadPosts(t){this.postService.getPostsUser(t).subscribe(n=>{this.posts=n.body})}openDialog(t){this.dialog.open(Y,{width:"400px",data:t})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.gz),i.Y36(V.f),i.Y36(u.F0),i.Y36(L.e),i.Y36(H.P),i.Y36(x.uw),i.Y36(I.O))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-profile-user"]],decls:6,vars:4,consts:[["class","info-user",4,"ngIf"],[1,"posts"],["class","example-card",4,"ngFor","ngForOf"],[1,"info-user"],["src","assets/man.png","class","img-user",4,"ngIf"],["src","assets/woman.png","class","img-user",4,"ngIf"],[1,"name-user"],["class","circle-online",4,"ngIf"],["class","circle-offline",4,"ngIf"],["src","assets/man.png",1,"img-user"],["src","assets/woman.png",1,"img-user"],[1,"circle-online"],[1,"circle-offline"],[1,"example-card"],[4,"ngIf"],["align","end"],[1,"actions"],["mat-raised-button","",3,"click"],["mat-card-avatar","",1,"example-header-image"],["class","img-avatar","mat-card-avatar","","src","assets/man.png",4,"ngIf"],["class","img-avatar","mat-card-avatar","","src","assets/woman.png",4,"ngIf"],["mat-card-avatar","","src","assets/man.png",1,"img-avatar"],["mat-card-avatar","","src","assets/woman.png",1,"img-avatar"]],template:function(t,n){1&t&&(i._UZ(0,"app-toolbar"),i.YNc(1,X,10,6,"div",0),i.ALo(2,"async"),i._UZ(3,"hr"),i.TgZ(4,"div",1),i.YNc(5,et,10,4,"mat-card",2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,n.users)),i.xp6(4),i.Q6J("ngForOf",n.posts))},dependencies:[p.sg,p.O5,f.lW,o.a8,o.hq,o.kc,o.dn,o.dk,o.$j,o.n5,G,p.Ov],styles:[".info-user[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end;flex-direction:column;gap:10px;text-align:center;margin:10px 10px 0}.name-user[_ngcontent-%COMP%]{display:flex}.name-user[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:50px;line-height:50px}.circle-offline[_ngcontent-%COMP%], .circle-online[_ngcontent-%COMP%]{width:20px;height:20px;background-color:red;border-radius:50%}.circle-online[_ngcontent-%COMP%]{background-color:green}.img-user[_ngcontent-%COMP%]{width:150px}hr[_ngcontent-%COMP%]{width:80%;margin:auto}.posts[_ngcontent-%COMP%]{margin:20px 10px 0;display:flex;flex-direction:column;align-items:center}.example-card[_ngcontent-%COMP%]{max-width:400px;margin-bottom:20px}.example-header-image[_ngcontent-%COMP%]{background-size:cover}"]}),e})()}];let at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[u.Bz.forChild(nt),u.Bz]}),e})();var T=r(8605),c=r(3238);r(7340);let lt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[p.ez,c.BQ,T.ZD,T.ZD,c.BQ]}),e})();r(1281),r(3353),r(727),r(6451),r(7579);var O=r(9643);let ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[c.BQ,c.BQ]}),e})();var E=r(7253);r(5017),r(9521),r(2722);let Zt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[O.Q8,p.ez,c.BQ,c.si,c.us,ct]}),e})();var jt=r(7155);let Ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[E.rt,c.BQ,c.BQ]}),e})();var Qt=r(3805);let Yt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[p.ez,at,S.g0,A.Ps,f.ot,lt,Zt,jt.p0,k.lN,o.QW,Ut,h.u5,h.UX,D.c,Qt.Bb]}),e})()}}]);